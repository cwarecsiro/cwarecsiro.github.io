
<html>

	<head>
	
		<title>Template to test WMS</title>
		<link rel="stylesheet" href="//unpkg.com/leaflet@1.2.0/dist/leaflet.css" crossorigin=""/>
		<script src="//unpkg.com/leaflet@1.2.0/dist/leaflet-src.js" crossorigin=""></script>	
		
		<!-- button stuff? -->
		<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css">
		<script src="//cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.js"></script>
		<!-- button stuff? -->
		
		<!-- spin while wait -->
		<!--<script src="//makinacorpus.github.io/Leaflet.Spin/leaflet/dist/leaflet.js"></script>
		<script src="//makinacorpus.github.io/Leaflet.Spin/leaflet.spin.min.js"></script>-->
		<link rel="stylesheet" href="//eclipse1979.github.io/leaflet-loader/dist/leaflet.loader.css" />
		<script src="//eclipse1979.github.io/leaflet-loader/dist/leaflet.loader.js"></script>
		
		<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		
		<!-- drop down? -->
		<!--<script src="Leaflet.DropDown.js" crossorigin=""></script>-->
		<script src="//ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

		
		<div id="map">

		<style type="text/css">
			body {
				padding: 0;
				margin: 0;
			}
			html, body, #map {
				height: 100%;
			}
			.leaflet-label-pane {
				pointer-events: none;
			}
		</style>

	</head>

	<script type="text/javascript">


	// initialize the map on the "map" div with a given center and zoom
	var map = L.map('map', {
		center: [-28.5, 135],
		zoom: 5
	});
	
	
	var loader = L.control.loader().addTo(map);
	setTimeout(function (){loader.hide();},1000);
	
	// ANIMATION SECTION?? //////////////////////////////////////////////////
	
	// define map
	//var map = L.map('map').setView([57.8915,86.8359], 3);

	// define addLayer function
	function addLayer(layer, name, zIndex) {
		layer
			.setZIndex(zIndex)
			.addTo(map);
	}

	// add basemap  
	
	addLayer(L.tileLayer('//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'), 'Base Map', -1);
	
	// here are the new layers we're going to add
	/*
	var layers =  [L.tileLayer('//hpc.csiro.au/users/454600/AMP/local/200801011000/{z}/{x}/{y}.png', {
					tms: true,
					}),
		  L.tileLayer('//hpc.csiro.au/users/454600/AMP/local/200801011400/{z}/{x}/{y}.png', {
					tms: true
					}),
			L.tileLayer('//hpc.csiro.au/users/454600/AMP/local/201601011100/{z}/{x}/{y}.png', {
					tms: true
					}),
		  ];
	*/	  
	
	//init maps
	var taxa = 'AMP';
	var layers =  [L.tileLayer('//hpc.csiro.au/users/454600/' + taxa + '/local/' + 'AMP0025_r1_base_2009_Sep_xy_local_DIVSUMSIM_RGB/{z}/{x}/{y}.png',{
					tms: true,
					}),
					L.tileLayer('//hpc.csiro.au/users/454600/' + taxa + '/local/' + 'AMP0025_r1_all_2009_Sep_xy_local_DIVSUMSIM_RGB/{z}/{x}/{y}.png',{
					tms: true,
					}),
		  
					L.tileLayer('//hpc.csiro.au/users/454600/' + taxa + '/local/' + 'AMP0025_r1_base_2009_Dec_xy_local_DIVSUMSIM_RGB/{z}/{x}/{y}.png',{
					tms: true,
					}),
					L.tileLayer('//hpc.csiro.au/users/454600/' + taxa + '/local/' + 'AMP0025_r1_all_2009_Dec_xy_local_DIVSUMSIM_RGB/{z}/{x}/{y}.png',{
					tms: true,
					}),
									
					L.tileLayer('//hpc.csiro.au/users/454600/' + taxa + '/local/' + 'AMP0025_r1_base_2010_xy_local_DIVSUMSIM_RGB/{z}/{x}/{y}.png',{
					tms: true,
					}),
					L.tileLayer('//hpc.csiro.au/users/454600/' + taxa + '/local/' + 'AMP0025_r1_all_2010_xy_local_DIVSUMSIM_RGB/{z}/{x}/{y}.png',{
					tms: true,
					}),
					
					L.tileLayer('//hpc.csiro.au/users/454600/' + taxa + '/local/' + 'AMP0025_r1_base_2011_xy_local_DIVSUMSIM_RGB/{z}/{x}/{y}.png',{
					tms: true,
					}),
					L.tileLayer('//hpc.csiro.au/users/454600/' + taxa + '/local/' + 'AMP0025_r1_all_2011_xy_local_DIVSUMSIM_RGB/{z}/{x}/{y}.png',{
					tms: true,
					}),
					
					L.tileLayer('//hpc.csiro.au/users/454600/' + taxa + '/local/' + 'AMP0025_r1_base_2012_xy_local_DIVSUMSIM_RGB/{z}/{x}/{y}.png',{
					tms: true,
					}),
					L.tileLayer('//hpc.csiro.au/users/454600/' + taxa + '/local/' + 'AMP0025_r1_all_2012_xy_local_DIVSUMSIM_RGB/{z}/{x}/{y}.png',{
					tms: true,
					}),
					
					L.tileLayer('//hpc.csiro.au/users/454600/' + taxa + '/local/' + 'AMP0025_r1_base_2013_xy_local_DIVSUMSIM_RGB/{z}/{x}/{y}.png',{
					tms: true,
					}),
					L.tileLayer('//hpc.csiro.au/users/454600/' + taxa + '/local/' + 'AMP0025_r1_all_2013_xy_local_DIVSUMSIM_RGB/{z}/{x}/{y}.png',{
					tms: true,
					}),
					
					L.tileLayer('//hpc.csiro.au/users/454600/' + taxa + '/local/' + 'AMP0025_r1_base_2014_xy_local_DIVSUMSIM_RGB/{z}/{x}/{y}.png',{
					tms: true,
					}),
					L.tileLayer('//hpc.csiro.au/users/454600/' + taxa + '/local/' + 'AMP0025_r1_all_2014_xy_local_DIVSUMSIM_RGB/{z}/{x}/{y}.png',{
					tms: true,
					}),
					
					L.tileLayer('//hpc.csiro.au/users/454600/' + taxa + '/local/' + 'AMP0025_r1_base_2015_xy_local_DIVSUMSIM_RGB/{z}/{x}/{y}.png',{
					tms: true,
					}),
					L.tileLayer('//hpc.csiro.au/users/454600/' + taxa + '/local/' + 'AMP0025_r1_all_2015_xy_local_DIVSUMSIM_RGB/{z}/{x}/{y}.png',{
					tms: true,
					}),
					
					L.tileLayer('//hpc.csiro.au/users/454600/' + taxa + '/local/' + 'AMP0025_r1_base_2016_xy_local_DIVSUMSIM_RGB/{z}/{x}/{y}.png',{
					tms: true,
					}),
					L.tileLayer('//hpc.csiro.au/users/454600/' + taxa + '/local/' + 'AMP0025_r1_all_2016_xy_local_DIVSUMSIM_RGB/{z}/{x}/{y}.png',{
					tms: true,
					}),
			];
					
					

	// and the length of said array so that the timer will stop
	var arrayLength = layers.length;

	// set the counter for the timer
	var i = 0;                     

	// set the timer delay function to add layers to map, calling function name in HTML button
	function gogogo () {           
	   setTimeout(function () {    
		  addLayer(layers[i], i); // adding one layer at a time from the array
		  i++;                     
		  if (i < arrayLength) {            
			 gogogo();             
		  }                        
	   }, 500); // delay between layer adds in milliseconds
	}
		
	/*
	map.on('click', function(e) {        
        gogogo();        
    });	
	*/
	
	
	
	/////////////////////////////////////////
	// DROPDOWN?
	/////////////////////////////////////////
	
	
	//var select = L.TaxaSelect({title:'Pick a country!'});
	
		
	// DROPDOWN END
	/////////////////////////////////////////////
	
	
	
	//L.easyButton('fa-star', function(){gogogo()}).addTo(map);
	L.easyButton('fa-play fa-2x', function(){gogogo()}).addTo(map);

	
	// Drop down to choose taxa
	
	var legend = L.control({position: 'topleft'});
	
	legend.onAdd = function (map) {
		var div = L.DomUtil.create('div', 'info legend');
		div.innerHTML = '<select><option>Amphibia</option><option>Reptilia</option><option>Gastropoda</option><option>Vascular plants</option></select>';
		div.firstChild.onmousedown = div.firstChild.ondblclick = L.DomEvent.stopPropagation;
		return div;
	};
	legend.addTo(map);
	
	$('select').change(function(e){
	//$(legend.firstChild).change(function(){
		taxa = this.value;
		if (taxa == 'Amphibia'){
			taxa = 'AMP';
		} else if(taxa == 'Reptilia'){
			taxa = 'REP';
		} else if(taxa == 'Gastropoda'){
			taxa = 'GAS';
		} else {
			taxa = 'VAS';
		}
		//alert(taxa);
	});
	
	
	
	//Home button
	var home = {
		  lat: -28.5,
		  lng: 135,
		  zoom: 5
		};
		
	L.easyButton('fa-home fa-2x',function(btn,map){
		map.setView([home.lat, home.lng], home.zoom);
	},'Zoom To Home').addTo(map);

	//////////////////////////////////////////////////////////////////////////////////////////////////////////
	
	/*
	
	 

	
	//U:\Eureka\outputs\interactive\data\q1\AMP

	//var nexrad = L.tileLayer('file://///ces-10-cdc/OSM_CDC_R38141_BushBlitz_work/Eureka/outputs/interactive/data/q1/AMP/test_dec_2009/{z}/{x}/{y}.png', {
							       //"\\ces-10-cdc\OSM_CDC_R38141_BushBlitz_work\Eureka\outputs\interactive\data\q1\AMP\local\rgb\2018022303\2018030101BASE"
	//var nexrad = L.tileLayer('file://///ces-10-cdc/OSM_CDC_R38141_BushBlitz_work/Eureka/outputs/interactive/data/q1/AMP/archive/NONBB/{z}/{x}/{y}.png', {
	//var nexrad = L.tileLayer('//hpc.csiro.au/users/454600/2008010111/{z}/{x}/{y}.png', { ## works but the images are munted
	var nexrad = L.tileLayer('//hpc.csiro.au/users/454600/AMP/local/200801011100//{z}/{x}/{y}.png', {
		//minZoom: 1,
		//nexrad.crossOrigin = "anonymous",
		maxZoom: 6,
		tms: true,
		attribution: "Weather data © 2012 IEM Nexrad"
	});
	
	
	 var layer1 = L.tileLayer('//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMaps'
     });
	
	var baseLayers = {
			"osm": layer1,
		};
		
	var overlays = {
			"survey": nexrad,
		};
	
	L.control.layers(baseLayers, overlays).addTo(map);
	
	 
	/*
	var layer3 = L.tileLayer('file://///lw-osm-02-cdc/OSM_CBR_LW_GPAAG_work/users/war42q/LU_TILES/c3ann/c3ann/{z}/{x}/{y}.png', {
			attribution: '© Hoskins et al',
			//transparent: true,
			//format: 'image/png'
	}).addTo(map);
	*/
	
	/* WMS LAYER
	var nexrad = L.tileLayer.wms("//localhost:8080/geoserver/bushblitz/wms?", {
		layers: 'bushblitz:geotiff_coverage',
		format: 'image/png',
		transparent: true,
		attribution: "Weather data © 2012 IEM Nexrad"
	}).addTo(map);
	*/

	
	
	</script>
	
</html>